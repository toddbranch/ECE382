# Lab 5 Notes

From now on, I'm not going to look at your lab notebooks aside from prelabs.  I'm only going to assess use of git / github, code style, and the quality of your READMEs.  A good example README is my button library: https://github.com/toddbranch/buttons .

I've given you a lot of skeleton code - you're not required to use it, but you can if you want to.

There are libraries available for buttons / LCD / random number generation on Github - use them!  It will save you time and effort!  Clone them and `#include` them, don't copy / paste code!

I've given you code that will help with using interrupts to drive buttons under B functionality.

The size of your ISRs is a design decision.  Typically, we want to keep them short so we don't miss other interrupts - but this is a guideline, not a rule.  If it makes sense in your application to do more work in ISRs, that's your prerogative.

I've forked the random number library and modified it to work better with CCS - use my forked version.

The `rand()` function in the lib takes a while to generate a random seed - you only want to use it once.  In the future, you want to use `random = prand(previous_random)`.  `prand` creates pseudorandom numbers given a random seed.  You'll want to initially use the number you got out of `rand()`, but subsequent numbers should be generated by `prand` with the previous random as the input parameter.

To place mines, I just did `0x81 + random%7` for the top row and `0xC0 + random%7` for the bottom row.

To test if a board is valid, you just need to compare the lower nibbles - so first, I blanked both top nibbles.  Then I check whether they are equal or within one of the other - those are unwinnable boards.

To generate the board, I created a `do while` loop that keeps regenerating the board as long as it's invalid.
